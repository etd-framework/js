define(['exports','utils'],function(exports){'use strict';Object.defineProperty(exports,'__esModule',{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _uid(b){if(b.getAttribute('id'))return b.getAttribute('id');if(b.getAttribute('name'))return b.getAttribute('name');var c='';return b.form.id&&(c=b.form.id),!c&&b.form.name&&(c=b.form.name),c+Utils.indexOfNode(b)}var Base=function(){function Base(b,c){_classCallCheck(this,Base),this.element=document.getElementById(b),this.options={},this._listeners={},c&&this.setOptions(c)}return _createClass(Base,[{key:'setOptions',value:function setOptions(b){return this.options=Utils.extend({},this.options,b),this}},{key:'getElement',value:function getElement(){return this.element}},{key:'uid',value:function uid(){return _uid(this.getElement()).replace(/\[\]:/gi,'')}},{key:'on',value:function on(b,c){Array.isArray(b)||(b=b.split(' '));for(var d=0,e=b.length;d<e;d++){var f=b[d];'undefined'==typeof this._listeners[f]&&(this._listeners[f]=[]),this._listeners[f].push(c)}return this}},{key:'off',value:function off(b,c){Array.isArray(b)||(b=b.split(' '));for(var d=0,e=b.length;d<e;d++){var f=b[d];if(Array.isArray(this._listeners[f])){var g=this._listeners[f];if('undefined'!=typeof c){for(var h=0,j=g.length;h<j;h++)if(g[h]===c){g.splice(h,1);break}}else g=[]}}return this}},{key:'trigger',value:function trigger(b,c){c=c||[],Array.isArray(b)||(b=b.split(' '));for(var d=0,e=b.length;d<e;d++){var f=b[d];if('string'==typeof f&&(f={type:f}),f.target||(f.target=this),!f.type)throw new Error('Event object missing \'type\' property.');if(f.isStopped=!1,f.stopImmediatePropagation=function(){this.isStopped=!0},Array.isArray(this._listeners[f.type])){var g=[f].concat(c),h=this._listeners[f.type];for(var j=0,k=h.length;j<k&&(h[j].apply(this,g),!f.isStopped);j++);}}return this}}]),Base}();exports.default=Base});
